<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>The Simple!!</title>
<link rel="stylesheet" href="style.css">
<link rel="manifest" href="manifest.json">
<!-- Matter.jsを追加 -->
<script src="https://cdn.jsdelivr.net/npm/matter-js@0.19.0/build/matter.min.js"></script>
<style>
  /* モーダル全体 */
  #startModal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
  }

  /* モーダル内容 */
  #startModalContent {
    background-color: white;
    padding: 30px;
    text-align: center;
    border-radius: 10px;
    max-width: 90%;
  }

  /* 閉じるボタン */
  #closeBtn {
    margin-top: 20px;
    padding: 10px 20px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
  }

  #closeBtn:hover {
    background-color: #45a049;
  }
</style>
</head>
<body>

<!-- モーダル -->
<div id="startModal">
  <div id="startModalContent">
    <h2>TheSimple! BuildingBlocks!</h2>
    <p>同じつみきを5つくっつけて消そう！</p>
    <button id="closeBtn">閉じる</button>
  </div>
</div>

<!-- ゲーム部分 -->
<canvas id="gameCanvas"></canvas>
<div id="scoreDisplay">Score: 0</div>
<div id="gameOverPanel"></div>

<script type="module" src="main.js"></script>

<script>
  // モーダル制御
  const modal = document.getElementById("startModal");
  const closeBtn = document.getElementById("closeBtn");

  closeBtn.addEventListener("click", () => {
    modal.style.display = "none";
    // 必要ならここでゲーム開始の関数を呼ぶ
    // startGame(); 
  });

  // Service Worker登録
  if('serviceWorker' in navigator){
    navigator.serviceWorker.register('service-worker.js')
      .then(() => console.log('Service Worker登録成功'))
      .catch(err => console.error('Service Worker登録失敗:', err));
  }
</script>

</body>
</html>
